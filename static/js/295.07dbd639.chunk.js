"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[295],{5295:function(e,s,t){t.r(s),t.d(s,{default:function(){return C}});var a=t(2791),n=t(7689),r=t(3531),l=t(6143),i=t(1087),c=t(1968),d=t(184);function o(e){var s=e.userName,t=e.userAvatar;return(0,d.jsxs)("div",{className:"relative flex items-center justify-center p-2 md:justify-between",children:[(0,d.jsxs)(i.OL,{to:"/messages",className:"absolute left-[4px] flex items-center text-xs md:relative md:-left-[4px] md:text-sm",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-4 w-4",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Back"})]}),(0,d.jsx)("span",{className:"w-full text-center text-sm font-semibold md:text-md",children:s}),(0,d.jsx)(c.Z,{img:t,size:"sm"})]})}function x(e){var s=e.message;return(0,d.jsx)("div",{id:s.id,className:"contactMessage flex w-full justify-start py-2",children:(0,d.jsxs)("div",{className:"flex max-w-[250px] flex-wrap items-end gap-2 rounded-2xl rounded-bl-none bg-gray-200 py-2 px-3 text-xs dark:bg-zinc-700 sm:max-w-[400px]",children:[(0,d.jsx)("span",{className:"flex-[1_1_auto]",children:s.text}),(0,d.jsx)("span",{className:"text-2xs uppercase italic",children:s.time})]})})}function u(e){var s=e.message;return(0,d.jsx)("div",{id:s.id,className:"userMessage flex w-full justify-end py-2",children:(0,d.jsxs)("div",{className:"flex max-w-[250px] flex-wrap items-end justify-end gap-2 rounded-2xl rounded-br-none bg-gradient-to-tr from-violet-400 to-fuchsia-400 py-2 px-3 text-xs text-white sm:max-w-[400px]",children:[(0,d.jsx)("span",{className:"flex-[1_1_auto]",children:s.text}),(0,d.jsx)("span",{className:"text-2xs uppercase italic",children:s.time})]})})}var m=(0,r.$j)((function(e){return{messages:e.messages.messages}}),null)((function(e){var s=e.messages,t=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){t.current.scrollTo(0,1e3)}),[s]),(0,d.jsx)("div",{ref:t,className:"flex flex-auto flex-col overflow-scroll border-y p-2 dark:border-y-zinc-800 md:px-5 md:py-3",children:s.map((function(e){return"contact"===e.type?(0,d.jsx)(x,{message:e},e.id):(0,d.jsx)(u,{message:e},e.id)}))})})),f=t(5705),h=t(2426),p=t.n(h),v=t(2671),g=t(4726),j=t(5839);function w(e){var s=e.extraClasses;return(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:" h-5 w-5 "+s,children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})}var b=(0,r.$j)(null,{sendMessage:l.bG})((function(e){var s=e.sendMessage;return(0,d.jsx)(f.J9,{initialValues:{newMessageText:""},validationSchema:v.Ic,onSubmit:function(e,t){var a=p()().format("hh:mm a");s(e.newMessageText,a),t.resetForm()},children:function(e){var s=e.isSubmitting,t=e.isValid;return(0,d.jsxs)(f.l0,{className:"flex w-full items-end gap-2 p-2",children:[(0,d.jsx)(f.gN,{name:"newMessageText",as:"textarea",placeholder:"Message",className:g.J7.default+"h-0 max-h-[150px] min-h-[36px] rounded-tl-xl rounded-br-none py-2 px-3 text-xs"}),(0,d.jsx)("button",{type:"submit",disabled:!t||s,className:g.LI.size.md+g.LI.default+g.LI.disabled+"rounded-full !p-2",children:s?(0,d.jsx)(j.Z,{size:"md"}):(0,d.jsx)(w,{extraClasses:"relative -right-[1px]"})})]})}})}));function N(e){var s=e.activeChat;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o,{userName:s.name,userAvatar:s.avatar}),(0,d.jsx)(m,{}),(0,d.jsx)(b,{})]})}function k(e){var s=e.chat,t=" p-2 lg:pl-5 lg:pr-2 first:pt-2 last:pb-2 flex gap-3 items-center md:hover:bg-slate-100 dark:md:hover:bg-zinc-800 transition-all ease-in ";return(0,d.jsxs)(i.OL,{to:"/messages/".concat(s.id),className:function(e){return e.isActive?t+"bg-violet-400 text-white hover:!bg-violet-400 dark:bg-violet-400 dark:hover:!bg-violet-400":t},children:[(0,d.jsx)(c.Z,{img:s.avatar,size:"2md"}),(0,d.jsxs)("div",{className:"hidden min-w-0 flex-col gap-1 lg:flex",children:[(0,d.jsx)("h5",{className:"font-semibold",children:s.name?s.name:"Undefined"}),(0,d.jsx)("span",{className:"truncate text-xs",children:s.lastMessage})]})]})}var y=(0,r.$j)((function(e){return{chats:e.messages.chats}}),null)((function(e){var s=e.chats;return(0,d.jsx)("div",{className:"h-full divide-y overflow-scroll dark:divide-zinc-800 lg:pb-[62px]",children:s.map((function(e){return(0,d.jsx)(k,{chat:e},e.id)}))})}));function L(){return(0,d.jsx)("form",{className:"hidden border-b p-5 pr-2 dark:border-b-zinc-800 lg:flex",children:(0,d.jsx)("input",{type:"search",name:"",id:"",placeholder:"Search chats",className:"w-full outline-none dark:bg-zinc-900"})})}var C=(0,r.$j)((function(e){return{selectedChat:e.messages.selectedChat,chats:e.messages.chats}}),{selectChat:l.Z1})((function(e){var s=e.selectChat,t=e.selectedChat,r=e.chats;(0,a.useEffect)((function(){document.title="Messages"}),[]);var l=(0,n.UO)(),i=r.find((function(e){return e.id==t}));return(0,a.useEffect)((function(){return document.body.classList.add("overflow-hidden"),document.body.classList.remove("overflow-hidden")}),[]),(0,a.useEffect)((function(){var e=l.userID;s(e)}),[l.userID,s]),(0,d.jsxs)("div",{className:g.su.default+"flex h-[75vh] lg:h-[80vh]",children:[(0,d.jsxs)("div",{className:"w-fit lg:min-w-[250px] lg:max-w-[250px]",children:[(0,d.jsx)(L,{}),(0,d.jsx)(y,{})]}),(0,d.jsx)("div",{className:"flex h-full w-full flex-col border-l dark:border-l-zinc-800",children:t?(0,d.jsx)(N,{activeChat:i}):(0,d.jsx)("div",{className:"flex h-full items-center justify-center p-5",children:(0,d.jsx)("h2",{className:"text-center",children:"Select a chat to start messaging"})})})]})}))}}]);
//# sourceMappingURL=295.07dbd639.chunk.js.map